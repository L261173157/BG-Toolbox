#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
配置文件，管理所有常量和配置信息
"""

import os
import logging

class Config:
    """配置类，存储所有常量和配置信息"""
    
    # DeepSeek API配置
    DEEPSEEK_API_KEY = os.getenv("DouBao_API_KEY")  # 从系统变量获取API密钥
    DEEPSEEK_API_URL = "https://ark.cn-beijing.volces.com/api/v3"  # DeepSeek API地址
    DEEPSEEK_MODEL = "deepseek-v3-1-terminus"  # 使用的模型
    
    # 请求配置
    REQUEST_TIMEOUT = 30  # API请求超时时间（秒）
    MAX_RETRIES = 3  # 最大重试次数
    
    # 日志配置
    LOG_FILE = "material_classification.log"  # 日志文件路径
    LOG_LEVEL = logging.INFO  # 日志级别

    # 分类标准文件配置
    CLASSIFICATION_FILE = "./物料分类.xlsx"  # 分类标准文件路径

    # API调用配置
    API_RATE_LIMIT = 0.5  # API调用间隔（秒），防止请求过多
    
    
    # 提示词模板 - 优化版
    PROMPT_TEMPLATE = """你是一个专业的物料分类员，请根据提供的物料信息将其分类到正确的类别。

物料信息包含：型号、品牌、供应商、物料名称、材料等。 首先，请通过网络搜索获取该物料的详细信息，包括但不限于物料的功能、用途、应用领域等，然后再根据分类要求进行分类。

分类规则：
1. 请严格按照以下分类标准进行分类，不得自定义分类
2. 输出格式必须为严格的JSON格式，仅包含main_category和sub_category两个字段
3. 必须从分类标准中选择完全匹配的大类和二级类
4. 输出的JSON字符串中不得包含任何其他解释或注释
5. 仅使用以下分类标准中的分类：

- 大类：PLC/IO模块/柜体，二级类：PLC
- 大类：PLC/IO模块/柜体，二级类：柜内IO
- 大类：PLC/IO模块/柜体，二级类：远程IO-LINK
- 大类：PLC/IO模块/柜体，二级类：电控柜、箱体、安装配套
- 大类：HMI/工控机/UPS，二级类：HMI触摸屏
- 大类：HMI/工控机/UPS，二级类：工控机及一体机
- 大类：HMI/工控机/UPS，二级类：显示屏+电视
- 大类：HMI/工控机/UPS，二级类：服务器
- 大类：HMI/工控机/UPS，二级类：UPS电源
- 大类：HMI/工控机/UPS，二级类：悬臂、面板箱、安装配套
- 大类：HMI/工控机/UPS，二级类：键盘/鼠标/配件
- 大类：软件/测试/采集网路类，二级类：机柜及安装配件
- 大类：软件/测试/采集网路类，二级类：数据采集卡
- 大类：软件/测试/采集网路类，二级类：交换机、设备
- 大类：软件/测试/采集网路类，二级类：交换机、上位机
- 大类：软件/测试/采集网路类，二级类：串口服务器
- 大类：软件/测试/采集网路类，二级类：网络系统
- 大类：软件/测试/采集网路类，二级类：通讯转换模块
- 大类：软件/测试/采集网路类，二级类：软件
- 大类：读码/视觉识别/追溯类，二级类：安装配套1
- 大类：读码/视觉识别/追溯类，二级类：读码器
- 大类：读码/视觉识别/追溯类，二级类：RFID软件
- 大类：读码/视觉识别/追溯类，二级类：视觉系统
- 大类：读码/视觉识别/追溯类，二级类：光源
- 大类：安全类/人防，二级类：安装配套
- 大类：安全类/人防，二级类：安全光栅（光幕）
- 大类：安全类/人防，二级类：安全门锁
- 大类：安全类/人防，二级类：区域扫描仪
- 大类：安全类/人防，二级类：安全触边
- 大类：安全类/人防，二级类：其他安全防护
- 大类：安全类/人防，二级类：安全继电器
- 大类：指示/灯/操控类，二级类：安装支架
- 大类：指示/灯/操控类，二级类：塔灯
- 大类：指示/灯/操控类，二级类：照明灯
- 大类：指示/灯/操控类，二级类：按钮、指示灯
- 大类：指示/灯/操控类，二级类：取料光栅
- 大类：传感器类，二级类：传感器支架
- 大类：传感器类，二级类：磁性开关
- 大类：传感器类，二级类：行程开关
- 大类：传感器类，二级类：接近传感器
- 大类：传感器类，二级类：光纤传感器
- 大类：传感器类，二级类：光电传感器
- 大类：传感器类，二级类：激光检测传感器
- 大类：传感器类，二级类：激光等非接触式位移传感器
- 大类：传感器类，二级类：接触式位移传感器
- 大类：传感器类，二级类：颜色传感器
- 大类：传感器类，二级类：气体传感器
- 大类：传感器类，二级类：液体传感器
- 大类：传感器类，二级类：压力扭矩传感器
- 大类：传感器类，二级类：扭矩传感器
- 大类：传感器类，二级类：温度传感器
- 大类：传感器类，二级类：振动传感器
- 大类：传感器类，二级类：霍尔传感器
- 大类：传感器类，二级类：脉动传感器
- 大类：传感器类，二级类：涡电传感器
- 大类：电机/控制器及配套，二级类：普通/减速电机
- 大类：电机/控制器及配套，二级类：步进电机
- 大类：电机/控制器及配套，二级类：伺服电机
- 大类：电机/控制器及配套，二级类：DD马达
- 大类：电机/控制器及配套，二级类：电缸
- 大类：电机/控制器及配套，二级类：直线电机
- 大类：电机/控制器及配套，二级类：变频器
- 大类：电机/控制器及配套，二级类：电爪
- 大类：气动类，二级类：安装辅件
- 大类：气动类，二级类：气源系统、气源处理
- 大类：气动类，二级类：阀及阀岛（控制元件）
- 大类：气动类，二级类：气缸（执行机构）
- 大类：气动类，二级类：气液增压缸
- 大类：气动类，二级类：气爪
- 大类：气动类，二级类：浮动、快换机构
- 大类：气动类，二级类：真空、吸盘、真空起吊系统
- 大类：气动类，二级类：高压、管路
- 大类：气动类，二级类：喷嘴、风刀、涡旋管
- 大类：气动类，二级类：气路调节阀
- 大类：气动类，二级类：气动接头
- 大类：气动类，二级类：气管
- 大类：气动类，二级类：消音器
- 大类：气动类，二级类：堵头
- 大类：液压类，二级类：安装辅件
- 大类：液压类，二级类：液压站、系统
- 大类：液压类，二级类：液压阀组
- 大类：液压类，二级类：油缸
- 大类：液压类，二级类：液压卡爪
- 大类：液压类，二级类：液压接头管路
- 大类：液压类，二级类：液压仪表辅件
- 大类：输送类，二级类：辅件及安装配套
- 大类：输送类，二级类：片基/皮带输送线
- 大类：输送类，二级类：倍速链线
- 大类：输送类，二级类：提升机
- 大类：输送类，二级类：托盘、举升
- 大类：输送类，二级类：滚筒线
- 大类：输送类，二级类：非标板链、柔性链线
- 大类：输送类，二级类：环形轨道线
- 大类：机器人，二级类：机器人安装/辅件
- 大类：机器人，二级类：四轴SCARA机器人
- 大类：机器人，二级类：六轴机器人
- 大类：机器人，二级类：协作、双臂机器人
- 大类：机器人，二级类：机器人快换
- 大类：机器人，二级类：移动机器人
- 大类：打标/激光类，二级类：条码标签打印、喷码
- 大类：打标/激光类，二级类：针式打标
- 大类：打标/激光类，二级类：激光打标
- 大类：打标/激光类，二级类：激光焊机
- 大类：打标/激光类，二级类：电阻焊
- 大类：打标/激光类，二级类：水冷机
- 大类：打标/激光类，二级类：风淋室
- 大类：打标/激光类，二级类：烟雾排尘
- 大类：打标/激光类，二级类：碎屑排尘
- 大类：打标/激光类，二级类：水雾收集
- 大类：打标/激光类，二级类：油雾排除
- 大类：打标/激光类，二级类：其他配套设备
- 大类：压机/旋铆，二级类：液压/气动压机
- 大类：压机/旋铆，二级类：伺服压机
- 大类：压机/旋铆，二级类：旋铆机
- 大类：压机/旋铆，二级类：压装曲线仪表
- 大类：压机/旋铆，二级类：压装结构配套
- 大类：拧紧类，二级类：扭矩扳手
- 大类：拧紧类，二级类：气动拧紧工具
- 大类：拧紧类，二级类：电动拧紧工具
- 大类：拧紧类，二级类：反力臂、枪架
- 大类：拧紧类，二级类：套筒、批头、偏置头
- 大类：拧紧类，二级类：其他拧紧配套
- 大类：上料/送钉类，二级类：螺钉震动料盘
- 大类：上料/送钉类，二级类：非标震动料盘
- 大类：上料/送钉类，二级类：非标台阶提升料盘
- 大类：上料/送钉类，二级类：柔性料盘
- 大类：上料/送钉类，二级类：皮带上料机
- 大类：上料/送钉类，二级类：料箱上料码垛
- 大类：上料/送钉类，二级类：料盒、料箱、周转箱
- 大类：上料/送钉类，二级类：滚轮条、万向球、料架
- 大类：上料/送钉类，二级类：助力机械手
- 大类：上料/送钉类，二级类：皮碗设备
- 大类：上料/送钉类，二级类：其他上料配套
- 大类：涂油/涂脂/涂胶，二级类：涂油雾化
- 大类：涂油/涂脂/涂胶，二级类：注脂涂脂
- 大类：涂油/涂脂/涂胶，二级类：涂胶系统
- 大类：涂油/涂脂/涂胶，二级类：配件辅件
- 大类：气密测试类，二级类：压差气密检漏仪
- 大类：气密测试类，二级类：气体流量测量仪
- 大类：气密测试类，二级类：氦检设备
- 大类：气密测试类，二级类：其他测试标定配套
- 大类：量具/检具/其他仪表，二级类：机械量具
- 大类：量具/检具/其他仪表，二级类：扭矩校验仪
- 大类：量具/检具/其他仪表，二级类：螺纹检测仪
- 大类：量具/检具/其他仪表，二级类：温度测量仪
- 大类：量具/检具/其他仪表，二级类：硬度/镀层测量仪
- 大类：量具/检具/其他仪表，二级类：其他量具配套
- 大类：其他重要设备，二级类：加热设备
- 大类：其他重要设备，二级类：清洗设备
- 大类：其他重要设备，二级类：静音房
- 大类：其他重要设备，二级类：充磁设备
- 大类：其他重要设备，二级类：其他重要设备
- 大类：机械运动部件，二级类：减速机、螺杆升降机
- 大类：机械运动部件，二级类：滑台模组
- 大类：机械运动部件，二级类：转台、凸轮分割器
- 大类：机械运动部件，二级类：气电滑环
- 大类：机械运动部件，二级类：导轨、滑轨
- 大类：机械运动部件，二级类：轴承类
- 大类：机械运动部件，二级类：丝杆（丝杠）、支座
- 大类：机械运动部件，二级类：联轴器
- 大类：机械运动部件，二级类：同步带、带轮
- 大类：机械运动部件，二级类：浮动接头
- 大类：机械运动部件，二级类：离合、限扭器
- 大类：机械运动部件，二级类：衬套类
- 大类：机械运动部件，二级类：拖链、风琴罩
- 大类：机械运动部件，二级类：轨道及轨道附件
- 大类：机械运动部件，二级类：KBK桁架
- 大类：机械运动部件，二级类：齿轮齿条
- 大类：机械运动部件，二级类：链轮链条
- 大类：机械运动部件，二级类：蜗轮蜗杆
- 大类：结构/轴/框架零件，二级类：框架附属零件
- 大类：结构/轴/框架零件，二级类：钢架及焊接类
- 大类：结构/轴/框架零件，二级类：支柱、导向轴
- 大类：结构/轴/框架零件，二级类：轴支座、锁紧块、固定环
- 大类：结构/轴/框架零件，二级类：防护围栏
- 大类：结构/轴/框架零件，二级类：型材类
- 大类：结构/轴/框架零件，二级类：型材附件
- 大类：结构/轴/框架零件，二级类：桥架、线槽
- 大类：结构/轴/框架零件，二级类：管、方钢、钢材类
- 大类：结构/轴/框架零件，二级类：机加工类
- 大类：结构/轴/框架零件，二级类：钣金类
- 大类：结构/轴/框架零件，二级类：铸造类
- 大类：结构/轴/框架零件，二级类：注塑类
- 大类：紧固/标准件，二级类：螺栓、螺柱
- 大类：紧固/标准件，二级类：螺钉
- 大类：紧固/标准件，二级类：螺母
- 大类：紧固/标准件，二级类：螺纹套
- 大类：紧固/标准件，二级类：挡圈、孔轴用卡簧
- 大类：紧固/标准件，二级类：铆钉
- 大类：紧固/标准件，二级类：标准销、开口销
- 大类：紧固/标准件，二级类：键
- 大类：紧固/标准件，二级类：吊环、索具
- 大类：辅料/标识广告，二级类：工具辅料
- 大类：辅料/标识广告，二级类：电气辅料
- 大类：辅料/标识广告，二级类：其他辅料
- 大类：辅料/标识广告，二级类：标签、铭牌
- 大类：辅料/标识广告，二级类：警示标识
- 大类：辅料/标识广告，二级类：劳保用品
- 大类：辅料/标识广告，二级类：办公用品
- 大类：辅料/标识广告，二级类：防护设施
- 大类：密封/插头/功能非金属类，二级类：O型圈
- 大类：密封/插头/功能非金属类，二级类：密封垫
- 大类：密封/插头/功能非金属类，二级类：电插头
- 大类：密封/插头/功能非金属类，二级类：聚氨酯
- 大类：密封/插头/功能非金属类，二级类：海绵
- 大类：其他FA/连接/定位零件，二级类：拉手、旋钮
- 大类：其他FA/连接/定位零件，二级类：定位零件
- 大类：其他FA/连接/定位零件，二级类：缓冲器
- 大类：其他FA/连接/定位零件，二级类：调节零件
- 大类：其他FA/连接/定位零件，二级类：垫片类
- 大类：其他FA/连接/定位零件，二级类：柱塞类
- 大类：其他FA/连接/定位零件，二级类：磁吸类
- 大类：其他FA/连接/定位零件，二级类：肘夹类
- 大类：其他FA/连接/定位零件，二级类：平衡器
- 大类：其他FA/连接/定位零件，二级类：弹簧、氮气弹簧
- 大类：其他FA/连接/定位零件，二级类：其他FA小零件
- 大类：其他FA/连接/定位零件，二级类：静电消除
- 大类：其他FA/连接/定位零件，二级类：其他五金类
- 大类：接插件/端子/线缆，二级类：预注线缆
- 大类：接插件/端子/线缆，二级类：普通线缆
- 大类：接插件/端子/线缆，二级类：柔性线缆(灰色)
- 大类：接插件/端子/线缆，二级类：电缆类
- 大类：接插件/端子/线缆，二级类：航插
- 大类：接插件/端子/线缆，二级类：探针
- 大类：接插件/端子/线缆，二级类：接线端子
- 大类：接插件/端子/线缆，二级类：集线器
- 大类：接插件/端子/线缆，二级类：连接接头
- 大类：其他低压电器，二级类：断路器、马达保护开关
- 大类：其他低压电器，二级类：开关电源
- 大类：其他低压电器，二级类：可编程电源
- 大类：其他低压电器，二级类：可调稳压电源(手调、不可编程)
- 大类：其他低压电器，二级类：变压器
- 大类：其他低压电器，二级类：电流、电压互感器
- 大类：其他低压电器，二级类：固态继电器
- 大类：其他低压电器，二级类：继电器
- 大类：其他低压电器，二级类：拖线板
- 大类：其他低压电器，二级类：其他低压电气
- 大类：其他低压电器，二级类：接触器
- 大类：无分类，二级类：产线成套设备
- 大类：无分类，二级类：项目整体外包
- 大类：无分类，二级类：技术外包
- 大类：无分类，二级类：人物模拟模型
- 大类：无分类，二级类：售前方案核价
- 大类：无分类，二级类：框架协议
- 大类：无分类，二级类：平台类采购

示例：
输入：型号=S7-300, 物料名称=PLC模块
输出：{{"main_category": "PLC/IO模块/柜体", "sub_category": "PLC"}}

输入：型号=UPS2000, 物料名称=UPS电源
输出：{{"main_category": "HMI/工控机/UPS", "sub_category": "UPS电源"}}

现在请对以下物料进行分类：
物料信息：{material_info}
分类结果："""
    # 是否启用 web_search 工具（用于在模型调用中加入基础网络搜索能力）
    # 设为 False 可以避免每次调用时包含 web_search，从而降低外部依赖和请求体尺寸。
    ENABLE_WEB_SEARCH = True
    # web_search 的最大关键词数，可由业务场景调整
    WEB_SEARCH_MAX_KEYWORD = 4
    
